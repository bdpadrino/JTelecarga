<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:adm="http://github.com/adminfaces"
                template="/WEB-INF/templates/plantilla.xhtml">
	
	    
    <ui:define name="title">
       Reportes
    </ui:define>

    <ui:define name="description">
    </ui:define>

    <ui:define name="body">
    	
	 	<adm:breadcrumb title="Reportes"/>
		
			<h:form id="form">
	            <div class="col-md-6">         
	                <div class="box box-success">  
	                    <div class="box-header with-border">
	                        <h3 class="box-title">Selección de Reportes</h3>
	                    </div>
	                    <div class="box-body">  
	                    <p:messages id="messages" autoUpdate="true" closable="true" />                            
	                            <div class="form-group">
	                                 <p:panelGrid  id="addPanel" class="ui-noborder" columns="2" cellpadding="5">  
	                                    <p:outputLabel for="reportName" value="Nombre del Reporte:" />
							               	<p:selectOneMenu id="reportName" value="#{reportBean.report.reportName}" required="true" requiredMessage="Nombre de reporte requerido">
									            <f:selectItem itemLabel="Select One" itemValue="" />
									            <f:selectItem itemLabel="Historial de Transacciones" itemValue="Historial de Transacciones.jasper" />
									            <f:selectItem itemLabel="Histórico de Transacciones" itemValue="Histórico de Transacciones.jasper" />
									            
									            <f:selectItem itemLabel="Transacciones por Lugar" itemValue="Transacciones por Lugar.jasper" />
												<f:selectItem itemLabel="Transacciones por Persona" itemValue="Transacciones por Persona.jasper" />							  
									        </p:selectOneMenu>
	                                    
	                                
	                           
                                    	<p:outputLabel for="startDate" value="Desde:" />
                                   
                                         <p:calendar id="startDate" value="#{reportBean.report.startDate}" pattern="yyyy-MM-dd" required="true" requiredMessage="Fecha de Inicio es requerida">
							 				<f:convertDateTime pattern="yyyy-MM-dd"/> 
							 			</p:calendar>
                                  
                                         <p:outputLabel for="endDate" value="Hasta:" />                                                     
                                         <p:calendar id="endDate" value="#{reportBean.report.endDate}" pattern="yyyy-MM-dd" required="true" requiredMessage="Fecha final es requerida">
							 				<f:convertDateTime pattern="yyyy-MM-dd"/> 
							 			</p:calendar>
	                            
	                                  
	                                   
                                    <p:outputLabel for="Busqueda" value="Busqueda Por:" />
                                    <p:selectOneMenu id="Busqueda" value="#{reportBean.searchBy}">
								            <f:selectItem itemLabel="Select One" itemValue="" />
								            <f:selectItem itemLabel="Lugar" itemValue="Lugar" />
								            <f:selectItem itemLabel="Tarjetahabiente" itemValue="Tarjetahabiente" />
                                    </p:selectOneMenu>
                                    <p:outputLabel for="Buscar" value="Buscar:" />
                                    <p:inputText id="Buscar" value="#{reportBean.search}" maxlength="20"/>
			                		<p:message for="Buscar" display="text" />
	                                    
	                               </p:panelGrid>
	                            </div> <!-- form-group --> 
	                            
	                            
	                        </div> <!-- /.box-body -->
	                        <div class="box-footer">
	                            <p:panelGrid  columns="2"  layout="grid">  
                            		<p:commandButton value="Descargar" actionListener="#{reportBean.downloadReport}" class="btn btn-success"  icon="fa fa-download" ajax ="false" update=":form:addPanel"/> 
                            		<p:commandButton value="Ver en PDF" actionListener="#{reportBean.generateReportPDF}" class="btn btn-success"  icon="fa fa-file-pdf-o" ajax ="false" update=":form:addPanel"/>
                            		<p:spacer width="5"/>
	                            </p:panelGrid>  
	                        </div> 	                  
	                </div> <!-- /.box -->
	            </div>  <!-- /.col-md-6 -->                
	                       
		</h:form> 
    	    
    </ui:define>

</ui:composition>
