<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:adm="http://github.com/adminfaces"
                template="/WEB-INF/templates/plantilla.xhtml">
	
	    
    <ui:define name="title">
       Configuraci√≥n APP
    </ui:define>
		
    <ui:define name="description">
    
    </ui:define>

    <ui:define name="body">
   		<adm:breadcrumb title="Configuracion APP"/>              	
        <p:tabView dynamic="true" cache="false">
	        <p:tab >
		        <f:facet name="title">
			         <i class="fa fa-list"> </i>
			         Username
			     </f:facet>
	           	<h:form id="form">
	           	
	           	 
	               <p:separator/>
	        		
		   			<p:dataTable id="userDT" var="us" value="#{userBean.listUsers}"  widgetVar="usersTable" multiViewState="true"
			                 rows="10" 
			                 paginator="true" 
			                 paginatorPosition="bottom"
			                 paginatorTemplate="{CurrentPageReport} {PreviousPageLink} {PageLinks} {NextPageLink} {RowsPerPageDropdown}"
			                 rowsPerPageTemplate="5,10,15,20"
			                 selectionMode="single" selection="#{userBean.userToAdd}" rowKey="#{us.id}"
			                 style="margin-bottom:5px"
			                 editable="true" 	  
			                 emptyMessage="No users found" >		                
		 
		 				<!--  <p:ajax event="rowEdit" listener="#{userBean.deleteUser}" update="userDT" />  -->
			       		<p:ajax event="rowEdit" listener="#{userBean.onRowEdit}" update="userDT" />
	      				<p:ajax event="rowEditCancel" listener="#{userBean.onRowCancel}" update="userDT"/>
		 				<!--  <p:ajax event="rowSelect" listener="#{userBean.onRowSelect}" update="userDT" />  -->
			 
				        <p:column headerText="Id">
				            <h:outputText value="#{us.id}" />
			 			</p:column>
			 
				        <p:column headerText="Usuario" >
			              	<p:cellEditor>  
				                <f:facet name="output">  
				                  	<h:outputText value="#{us.username}" />
				                </f:facet>  
				                <f:facet name="input">  
				                    <p:inputText id="username" value="#{us.username}" style="width:96%"/>  
				                </f:facet>  
			            	</p:cellEditor>  
				        </p:column>
				 
				 		<p:column headerText="Estatus">
				         	<p:cellEditor>  
				                <f:facet name="output">  
				                  	<h:outputText value="#{us.status}" />
				                </f:facet>  
				                <f:facet name="input">  
				                    <p:selectOneMenu value="#{us.status}" style="width:96%">
				                       <f:selectItem itemLabel="Activo" itemValue="Activo" />
				                       <f:selectItem itemLabel="Inactivo" itemValue="Inactivo" />
				                   </p:selectOneMenu>
								</f:facet>  
			            	</p:cellEditor>  						
				        </p:column>
				        
				         <p:column style="width:32px">
				           <p:rowEditor />
				        </p:column>
				        
				        <p:column style="width:60px;text-align: center">
				           <p:commandButton icon="fa fa-trash" styleClass="btn-danger" update="userDT" actionListener="#{userBean.deleteUser(us)}"/>
						</p:column>
					       
		 			  </p:dataTable>
		       </h:form>          
	        </p:tab>                          
      	</p:tabView>     	        
    </ui:define>
</ui:composition>