<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:adm="http://github.com/adminfaces"
                template="/WEB-INF/templates/plantilla.xhtml">
	
	    
    <ui:define name="title">
       Configuracion APP
    </ui:define>

    <ui:define name="description">
       
    </ui:define>
    
  

    <ui:define name="body">
   	<adm:breadcrumb title="Configuracion APP"/>              	
                                            
      
          <div class="row">
	        <div class="col-md-12">
	          <!-- Custom Tabs -->
	          <div class="nav-tabs-custom">
	            <ul class="nav nav-tabs">
	              <li class="active"><a href="#tab_1" data-toggle="tab"> <i class="fa fa-users"></i> Usuarios</a></li>
	              <li><a href="#tab_2" data-toggle="tab"><i class="fa fa-list"></i> Roles</a></li>
	              <li class="pull-right"><a href="#" class="text-muted"><i class="fa fa-gear"></i></a></li>
	            </ul>
	            <div class="tab-content">
	              <div class="tab-pane active" id="tab_1">
	              	
	              	
	              </div> <!-- /.tab-pane -->
	              <div class="tab-pane" id="tab_2">
		              <h:form id="roleForm">
		                <p:messages id="msgs" autoUpdate="true" />
		                  <p:commandButton value="Modificar" icon="fa fa-edit" styleClass="btn-primary" oncomplete="PF('carDialog').show()" />
	     				  <p:spacer width="5"/>
		                  <p:separator/>
	     				  <p:dataTable id="userDT" var="user" value="#{userTableBean.listUsers}" widgetVar="usersTable" multiViewState="true"
			                 rows="10" 
			                 paginator="true" 
			                 paginatorPosition="bottom"
			                 paginatorTemplate="{CurrentPageReport} {PreviousPageLink} {PageLinks} {NextPageLink} {RowsPerPageDropdown}"
			                 rowsPerPageTemplate="5,10,15,20"
			                 selectionMode="single"
			                 selection="#{userTableBean.user}"
			                 rowKey="#{user.id}"
			                 emptyMessage="No users found"
			                 style="margin-bottom:20px">		                
			 	      		 				
					        <f:facet name="header">
					            <p:outputPanel>
					            	<div align="right">
						                <h:outputText value="Search all fields:" />
						                <p:inputText id="globalFilter" onkeyup="PF('usersTable').filter()" style="width:150px" placeholder="Enter keyword"/>
					           		</div>
					            </p:outputPanel>
				        	</f:facet>
				 
					        <p:column headerText="Id" sortBy="#{user.id}" filterBy="#{user.id}">
					            <h:outputText value="#{user.id}" />
				 			</p:column>
				 
					        <p:column headerText="Usuario" sortBy="#{user.username}" filterBy="#{user.username}">
				            	<h:outputText value="#{user.username}" />
					        </p:column>
					 
					 		<p:column headerText="Estatus" sortBy="#{user.status}" filterBy="#{user.status}">
				                  	<h:outputText value="#{user.status}" />
					        </p:column>
					      </p:dataTable>
					      
					      <p:dialog header="Modificar " widgetVar="carDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false" position="center center" var="user"> <!-- height="500" -->
						        <p:outputPanel id="carDetail">
						            <p:panelGrid  columns="2" rendered="#{not empty userTableBean.listUsers}" styleClass= "ui-noborder">
						             	<h:outputLabel for="id" value="Id:" />
							            <h:outputText id="id" value="#{userTableBean.user.id}" required="true" label="id" placeholder="#{userTableBean.user.id}"/>

							 			<h:outputLabel for="username" value="Username:" />
							            <p:inputText id="username" value="#{userTableBean.user.username}" required="true" label="id" placeholder="#{userTableBean.user.username}"/>
							 
							            <h:outputLabel for="estatus" value="Estatus:" />
							            <p:inputText id="estatus" value="#{userTableBean.user.status}" required="true" label="estatus" placeholder="#{userTableBean.user.status}"/>
						                
						                <p:spacer height="10"/> 
						                
						                <f:facet name="footer">
							                <p:commandButton value="Modificar" class="btn btn-success" actionListener="#{userTableBean.modificarB}"/>
							            </f:facet>  
						              </p:panelGrid>

				                 </p:outputPanel>
						    </p:dialog>
					  </h:form>  
	              </div> <!-- /.tab-pane2 -->
	            </div> <!-- /.tab-content -->
	          </div> <!-- nav-tabs-custom -->
	        </div><!-- /.col -->
	      </div>  <!-- /.row -->
  	
		       	        
    </ui:define>
</ui:composition>